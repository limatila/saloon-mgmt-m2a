{% load static %}

<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <title>
            {{ project_title }} - {{ title }}
        </title>
        <meta charset="UTF-8">
        <meta name="description" content="Management Page for the Saloon (fictional)">
        <meta name="keywords" content="saloon">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans&display=swap" rel="stylesheet">
        <script src="https://kit.fontawesome.com/20ee9826cd.js" crossorigin="anonymous"></script>
        <link rel="icon" href="{% static "imgs/kiss.png" %}">
        <link rel="stylesheet" href="{% static "css/base.css" %}">
        <link rel="stylesheet" href="{% static "css/messages.css" %}">
        {% block head %}
        {% endblock head %}
    </head>

    <body>
        {% if sidebar %}
            <aside>
                {% include "partials/nav-bar.html" %}
            </aside>
        {% endif %}

        <main>
            <header>
                <div class="wrapper header-content">
                    <div class="header-intro">
                        <h1 class="header-title">{{ title }}</h1>
                        <p class="header-description">{{ description|safe }}</p>
                    </div>
                    
                    <div class="header-actions">
                        {% if user.is_authenticated %}
                            <a class="action profile" href="">Usuário Logado: {{ user.username }} <i class="fa-solid fa-circle-user"></i></a>
                            <a class="action logout" href="{% url "core:auth:logout" %}"><i class="fa-solid fa-power-off"></i></a>
                        {% else %}
                            <a class="action profile" href="">Não está logado <i class="fa-solid fa-user-slash"></i></a>
                        {% endif %}
                    </div>
                </div>
            </header>

            <section class="main-content">
                <div class="wrapper">
                    {% block content %}
                    {% endblock content %}
                </div>
            </section>

            {% if user.is_authenticated %}
                <footer>
                    {% comment %}  {% endcomment %}
                </footer>
            {% endif %}
        </main>
        
        {% if messages %}
        <div class="message-container {% if not sidebar %}message-container-in-center{% endif %}">
            {% for message in messages %}
            <div class="message-popup message-{{ message.tags }}">
                <h3>
                    {{ message }}
                </h3>
                <button type="button" class="btn-close"><i class="fa-solid fa-xmark"></i></button>
            </div>
            {% endfor %}
            <script src="{% static "js/messages-popup.js" %}"></script>
        </div>
        {% endif %}

        <div class="popup-overlay" id="popupOverlay"></div>
    </body>

    {% block scripts %}
    {% endblock scripts %}
</html>